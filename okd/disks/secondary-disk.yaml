# Generated by Butane; do not edit
apiVersion: machineconfiguration.openshift.io/v1
kind: MachineConfig
metadata:
  labels:
    machineconfiguration.openshift.io/role: master
  name: raid1-alt-storage
spec:
  config:
    ignition:
      version: 3.4.0
    storage:
      disks:
        - device: /dev/disk/by-path/pci-0000:02:00.1-ata-2.0
          partitions:
            - label: data-1.0
          wipeTable: true
        - device: /dev/disk/by-path/pci-0000:02:00.1-ata-1.0
          partitions:
            - label: data-2.0
          wipeTable: true
      filesystems:
        - device: /dev/md/md-var-lib-containers
          format: xfs
          path: /var/lib/containers
          wipeFilesystem: true
      raid:
        - devices:
            - /dev/disk/by-partlabel/data-1.0
            - /dev/disk/by-partlabel/data-2.0
          level: raid1
          name: md-var-lib-containers
    systemd:
      units:
        - contents: |-
            # Generated by Butane
            [Unit]
            Requires=systemd-fsck@dev-md-md\x2dvar\x2dlib\x2dcontainers.service
            After=systemd-fsck@dev-md-md\x2dvar\x2dlib\x2dcontainers.service

            [Mount]
            Where=/var/lib/containers
            What=/dev/md/md-var-lib-containers
            Type=xfs

            [Install]
            RequiredBy=local-fs.target
          enabled: true
          name: var-lib-containers.mount
