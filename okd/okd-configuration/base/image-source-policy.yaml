apiVersion: operator.openshift.io/v1alpha1
kind: ImageContentSourcePolicy
metadata:
  name: image-policy-0
  labels:
    app.kubernetes.io/instance: okd-configuration
spec:
  repositoryDigestMirrors:
    - mirrors:
        - registry.<path:secret/data/homelab/domain#url>/openshift
      source: quay.io/openshift
---
apiVersion: operator.openshift.io/v1alpha1
kind: ImageContentSourcePolicy
metadata:
  name: longhorn
  labels:
    app.kubernetes.io/instance: okd-configuration
spec:
  repositoryDigestMirrors:
    - mirrors:
        - registry.<path:secret/data/homelab/domain#url>/longhornio
      source: docker.io/longhornio
---
apiVersion: config.openshift.io/v1
kind: ImageContentPolicy
metadata:
  name: longhorn # This CRD Doesn't have an effect. # https://issues.redhat.com/browse/OCPNODE-717
  labels:
    app.kubernetes.io/instance: okd-configuration
spec:
  repositoryDigestMirrors:
    - mirrors:
        - registry.<path:secret/data/homelab/domain#url>/longhornio
      source: docker.io/longhornio
      allowMirrorByTags: true
