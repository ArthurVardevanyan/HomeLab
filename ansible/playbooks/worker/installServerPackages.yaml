- hosts: worker
  become: true
  user: arthur
  tasks:
    - apt_repository:
        repo: deb http://deb.debian.org/debian/ bullseye main contrib non-free
        state: present
        update_cache: True
    - apt_repository:
        repo: deb-src http://deb.debian.org/debian/ bullseye main contrib non-free
        state: present
        update_cache: True
    - apt_repository:
        repo: deb http://security.debian.org/debian-security bullseye-security main contrib non-free
        state: present
        update_cache: True
    - apt_repository:
        repo: deb-src http://security.debian.org/debian-security bullseye-security main contrib non-free
        state: present
        update_cache: True
    - apt_repository:
        repo: deb http://deb.debian.org/debian/ bullseye-updates main contrib non-free
        state: present
        update_cache: True
    - apt_repository:
        repo: deb-src http://deb.debian.org/debian/ bullseye-updates main contrib non-free
        state: present
        update_cache: True
    - name: install packages
      apt:
        state: latest
        name:
          - htop
          - git
          - speedtest-cli
          - wget
          - apt-transport-https
          - ca-certificates
          - curl
          - gnupg2
          - software-properties-common
          - firmware-realtek
          - firmware-misc-nonfree
          - pv
          - jq