---
- name: Install VSCodium on Ryzen desktop
  hosts: ryzen
  gather_facts: false
  become: true
  user: arthur
  tasks:
    - name: Add VSCodium Repo
      ansible.builtin.yum_repository:
        name: vscodium
        description: vscodium YUM repo
        baseurl: https://download.vscodium.com/rpms/
        gpgkey: https://gitlab.com/paulcarroty/vscodium-deb-rpm-repo/-/raw/master/pub.gpg
        mode: "0644"

    - name: Install VSCodium
      ansible.builtin.dnf:
        state: present
        name:
          # renovate: datasource=repology depName=fedora_43/vscodium
          - codium-1.90.1.24165

    - name: VSCodium Marketplace
      ansible.builtin.copy:
        src: "../../../machineConfigs/desktop/home/arthur/.config/VSCodium/product.json"
        dest: "/home/arthur/.config/VSCodium/product.json"
        mode: "0644"
        owner: arthur
        group: arthur
