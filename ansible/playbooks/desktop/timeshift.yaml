---
- name: Install Timeshift
  hosts: ryzen
  gather_facts: false
  become: true
  user: arthur
  tasks:
    - name: Create Timeshift Folder
      ansible.builtin.file:
        path: /etc/timeshift
        state: directory
        mode: "0755"
    - name: Install Timeshift
      ansible.builtin.dnf:
        state: present
        name:
          # TODO: renovate: datasource=repology depName=fedora_43/timeshift
          - timeshift # -22.11.2-7.fc43
    - name: Create Timeshift Config
      ansible.builtin.copy:
        src: "../../../machineConfigs/desktop/etc/timeshift/timeshift.json"
        dest: "/etc/timeshift/timeshift.json"
        mode: "0644"
