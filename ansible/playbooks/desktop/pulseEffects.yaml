- hosts: ryzen
  gather_facts: no
  user: arthur
  tasks:
    - name: Install PulseEffects
      become: true
      apt:
        state: latest
        name:
          - pulseeffects

    - name: Copy PulseEffects Output Configs
      copy:
        src: "../../../machineConfigs/desktop/home/arthur/.config/PulseEffects/output"
        dest: "/home/arthur/.config/PulseEffects/"
    - name: Copy PulseEffects AutoLoad Configs
      copy:
        src: "../../../machineConfigs/desktop/home/arthur/.config/PulseEffects/autoload"
        dest: "/home/arthur/.config/PulseEffects/"
    - name: PulseEffects Startup
      copy:
        src: "../../../machineConfigs/desktop/home/arthur/.config/autostart/pulseeffects-service.desktop"
        dest: "/home/arthur/.config/autostart/pulseeffects-service.desktop"

    - name: PulseEffects Default Source
      dconf:
        key: "/com/github/wwmm/pulseeffects/use-default-source"
        value: "true"

    - name: PulseEffects Default Sink
      dconf:
        key: "/com/github/wwmm/pulseeffects/use-default-sink"
        value: "true"

    - name: PulseEffects Priority Type
      dconf:
        key: "/com/github/wwmm/pulseeffects/priority-type"
        value: "'Niceness'"

    - name: PulseEffects Niceness
      dconf:
        key: "/com/github/wwmm/pulseeffects/niceness"
        value: "-11"

    - name: PulseEffects Dark Theme
      dconf:
        key: "/com/github/wwmm/pulseeffects/use-dark-theme"
        value: "true"

    - name: PulseEffects Enable All Sink Inputs
      dconf:
        key: "/com/github/wwmm/pulseeffects/enable-all-sinkinputs"
        value: "false"

    - name: PulseEffects Block Size In
      dconf:
        key: "/com/github/wwmm/pulseeffects/blocksize-in"
        value: "'128'"

    - name: PulseEffects Block Size Out
      dconf:
        key: "/com/github/wwmm/pulseeffects/blocksize-out"
        value: "'128'"

    - name: PulseEffects Spectrum Show
      dconf:
        key: "/com/github/wwmm/pulseeffects/spectrum/show"
        value: "false"

    - name: PulseEffects Input Buffer PulseSink
      dconf:
        key: "/com/github/wwmm/pulseeffects/sinkinputs/buffer-pulsesink"
        value: "100000"

    - name: PulseEffects Input Buffer Pulse SRC
      dconf:
        key: "/com/github/wwmm/pulseeffects/sinkinputs/buffer-pulsesrc"
        value: "100000"

    - name: PulseEffects Input Latency PulseSink
      dconf:
        key: "/com/github/wwmm/pulseeffects/sinkinputs/latency-pulsesink"
        value: "1000"

    - name: PulseEffects Input Latency Pulse SRC
      dconf:
        key: "/com/github/wwmm/pulseeffects/sinkinputs/latency-pulsesrc"
        value: "1000"

    - name: PulseEffects Input Plugins
      dconf:
        key: "/com/github/wwmm/pulseeffects/sinkinputs/plugins"
        value: "['equalizer', 'bass_enhancer', 'limiter', 'autogain', 'gate', 'multiband_gate', 'compressor', 'multiband_compressor', 'convolver', 'exciter', 'crystalizer', 'stereo_tools', 'reverb', 'delay', 'deesser', 'crossfeed', 'loudness', 'maximizer', 'filter', 'pitch', 'rnnoise']"

    - name: PulseEffects Output Buffer PulseSink
      dconf:
        key: "/com/github/wwmm/pulseeffects/sourceoutputs/buffer-pulsesink"
        value: "10000"

    - name: PulseEffects OutputBuffer Pulse SRC
      dconf:
        key: "/com/github/wwmm/pulseeffects/sourceoutputs/buffer-pulsesrc"
        value: "10000"

    - name: PulseEffects OutputLatency PulseSink
      dconf:
        key: "/com/github/wwmm/pulseeffects/sourceoutputs/latency-pulsesink"
        value: "1000"

    - name: PulseEffects OutputLatency Pulse SRC
      dconf:
        key: "/com/github/wwmm/pulseeffects/sourceoutputs/latency-pulsesrc"
        value: "1000"
