---
- name: Install VSCodium
  hosts: lenovo
  gather_facts: false
  become: true
  user: arthur
  tasks:
    - name: Add VSCodium Key
      ansible.builtin.apt_key:
        url: https://gitlab.com/paulcarroty/vscodium-deb-rpm-repo/raw/master/pub.gpg
        keyring: /etc/apt/trusted.gpg.d/vscodium-archive-keyring.gpg
        state: present
    - name: Add VSCodium Repo
      ansible.builtin.apt_repository:
        repo: deb https://paulcarroty.gitlab.io/vscodium-deb-rpm-repo/debs/ vscodium main
        state: present
        update_cache: true
        filename: vscodium
    - name: Install VSCodium
      ansible.builtin.apt:
        state: present
        name:
          # renovate: datasource=repology depName=ubuntu_25_10/vscodium
          - codium-1.90.1.24165
    - name: VSCodium Marketplace
      ansible.builtin.copy:
        src: "../../../machineConfigs/desktop/home/arthur/.config/VSCodium/product.json"
        dest: "/home/arthur/.config/VSCodium/product.json"
        mode: "0644"
