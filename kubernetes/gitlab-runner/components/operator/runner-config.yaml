apiVersion: v1
kind: ConfigMap
metadata:
  name: runner-config
  namespace: gitlab-runner
  labels:
    app.kubernetes.io/instance: gitlab-runner
data:
  config.toml: |-
    [[runners]]
    [runners.kubernetes]
       namespace = "gitlab-runner"
       bearer_token_overwrite_allowed = true
       cpu_request= "500m"
       cpu_limit = "1.5"
       memory_request = "250M"
       memory_limit = "750M"
       service_cpu_request = "100m"
       service_cpu_limit = "750m"
       service_memory_request = "250M"
       service_memory_limit = "500M"
       helper_cpu_request = "50m"
       helper_cpu_limit = "150m"
       helper_memory_request = "50M"
       helper_memory_limit = "150M"
       poll_interval = 5
       poll_timeout = 3600
       dns_policy = "cluster-first"
       privileged = true
    [runners.kubernetes.pod_labels ]
      app = "runner"
