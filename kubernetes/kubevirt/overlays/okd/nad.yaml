apiVersion: nmstate.io/v1
kind: NodeNetworkConfigurationPolicy
metadata:
  name: live-migrate
spec:
  desiredState:
    interfaces:
      - name: bond4
        type: bond
        state: up
        mac-address: X
        mtu: 9000
        ipv4:
          enabled: true
          dhcp: true
        ipv6:
          enabled: false
        link-aggregation:
          mode: active-backup
          options:
            miimon: "150"
            primary: X
          port:
            - X
            - enp7s0f1
---
apiVersion: "k8s.cni.cncf.io/v1"
kind: NetworkAttachmentDefinition
metadata:
  name: live-migrate
  namespace: kubevirt-hyperconverged
spec:
  config: '{
    "cniVersion": "0.3.1",
    "type": "macvlan",
    "master": "bond4",
    "mode": "bridge",
    "mtu": 9000,
    "ipam": {
    "type": "whereabouts",
    "range": "10.101.14.0/24",
    "range_start": "10.101.14.128",
    "range_end": "10.101.14.254"
    }
    }'
